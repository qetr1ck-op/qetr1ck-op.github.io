
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Blog | qetr1ck-op">
    <title>Practical design patterns in JavaScript - Blog | qetr1ck-op</title>
    <meta name="author" content="Orest Prystayko">
    
    
        <link rel="icon" href="http://qetr1ck-op.github.io/assets/images/favicon.ico">
    
    
    <meta name="description" content="One of the most important aspects of writing maintainable code is being able to notice the repeating themes in that code and optimize them. This is an area where knowledge of design patterns can prove">
<meta property="og:type" content="blog">
<meta property="og:title" content="Practical design patterns in JavaScript">
<meta property="og:url" content="http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/index.html">
<meta property="og:site_name" content="Blog | qetr1ck-op">
<meta property="og:description" content="One of the most important aspects of writing maintainable code is being able to notice the repeating themes in that code and optimize them. This is an area where knowledge of design patterns can prove">
<meta property="og:image" content="http://qetr1ck-op.github.io/img.jpg">
<meta property="og:updated_time" content="2016-10-05T20:40:33.580Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Practical design patterns in JavaScript">
<meta name="twitter:description" content="One of the most important aspects of writing maintainable code is being able to notice the repeating themes in that code and optimize them. This is an area where knowledge of design patterns can prove">
<meta name="twitter:image" content="http://qetr1ck-op.github.io/img.jpg">
<meta name="twitter:creator" content="@https://twitter.com/oprystayko">
    
    
        
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/35948c039f71fe48d765768c07bfee67?s=640"/>
    
    
        <meta property="og:image" content="http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/title.gif"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/title.gif" />
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-zt64rpzgonl90x6pvjtibnquaykj0gt1cjfemxes346obii79yds6tu9yyss.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Blog | qetr1ck-op</a>
    </h1>
    
        
            <a  class="header-right-icon st-search-show-outputs"
                href="#search">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="4">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/35948c039f71fe48d765768c07bfee67?s=110"/>
            </a>
            <span class="sidebar-profile-name">Orest Prystayko</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/qetr1ck-op" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.linkedin.com/profile/preview?locale=ru_RU&trk=prof-0-sb-preview-primary-button" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
                    <span class="sidebar-button-desc">LinkedIn</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://twitter.com/oprystayko" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                    <span class="sidebar-button-desc">Twitter</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.facebook.com/orest.prustayko" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
                    <span class="sidebar-button-desc">Facebook</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Practical design patterns in JavaScript
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" datetime="2016-02-03T12:43:26+02:00">
	
		    Feb 03, 2016
    	
    </time>
    
</div>

</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>One of the most important aspects of writing maintainable code is being able to notice the repeating themes in that code and optimize them. This is an area where knowledge of design patterns can prove invaluable.</p>
<p>I take a look at a number of popular JavaScript design patterns and explore why certain patterns may be suitable for your projects.</p>
<a id="more"></a>
<h1 id="table-of-contents">Table of Contents</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Why_is_it_important_to_understand_patterns_and_be_familiar_with_them_3F"><span class="toc-text">Why is it important to understand patterns and be familiar with them?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Categories_Of_Design_Pattern"><span class="toc-text">Categories Of Design Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Creation_Design_Patterns"><span class="toc-text">Creation Design Patterns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Structural_Design_Patterns"><span class="toc-text">Structural Design Patterns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Behavioral_Design_Patterns"><span class="toc-text">Behavioral Design Patterns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Table_of_23_Design_Patterns_mentioned_by_the_GoF"><span class="toc-text">Table of 23 Design Patterns mentioned by the GoF</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creation_Design_Patterns_in_depth"><span class="toc-text">Creation Design Patterns in depth</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#The_Constructor_Pattern"><span class="toc-text">The Constructor Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Object_Creation"><span class="toc-text">Object Creation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic_Constructors"><span class="toc-text">Basic Constructors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Constructors_With_Prototypes"><span class="toc-text">Constructors With Prototypes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Constructors_with_ES6_class"><span class="toc-text">Constructors with ES6 class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Constructors_with_ES6_class_for_Node-js"><span class="toc-text">Constructors with ES6 class for Node.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Constructors_in_Angular1-x"><span class="toc-text">Constructors in Angular1.x</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The_Module_Pattern"><span class="toc-text">The Module Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The_Revealing_Module_Pattern"><span class="toc-text">The Revealing Module Pattern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The_Module_Pattern_for_Node-js"><span class="toc-text">The Module Pattern for Node.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The_Module_Pattern_for_Angular1-x"><span class="toc-text">The Module Pattern for Angular1.x</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The_Singleton_Pattern"><span class="toc-text">The Singleton Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The_Singleton_Pattern_for_Node-js"><span class="toc-text">The Singleton Pattern for Node.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The_Singleton_Pattern_for_Angular1-x"><span class="toc-text">The Singleton Pattern for Angular1.x</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The_Factory_Pattern"><span class="toc-text">The Factory Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Abstract_Factories"><span class="toc-text">Abstract Factories</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Structural_Design_Patterns_in_depth"><span class="toc-text">Structural Design Patterns in depth</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Mixins"><span class="toc-text">Mixins</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Mixins_with_ES6"><span class="toc-text">Mixins with ES6</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The_Decorator_Pattern"><span class="toc-text">The Decorator Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The_Decorator_Pattern_in_Angular1-x"><span class="toc-text">The Decorator Pattern in Angular1.x</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sub-classing"><span class="toc-text">Sub-classing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The_Facade_Pattern"><span class="toc-text">The Facade Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flyweight"><span class="toc-text">Flyweight</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Flyweights_and_sharing_data"><span class="toc-text">Flyweights and sharing data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flyweights_and_the_DOM"><span class="toc-text">Flyweights and the DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example_1_3A_Centralized_event_handling"><span class="toc-text">Example 1: Centralized event handling</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example_2_3A_For_performance_optimization"><span class="toc-text">Example 2: For performance optimization</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Behavior_Design_Patterns_in_depth"><span class="toc-text">Behavior Design Patterns in depth</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#The_observer"><span class="toc-text">The observer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Differences_Between_The_Observer_And_Publish/Subscribe_Pattern"><span class="toc-text">Differences Between The Observer And Publish/Subscribe Pattern</span></a></li></ol></li></ol>
<h1 id="Why_is_it_important_to_understand_patterns_and_be_familiar_with_them_3F"><a href="#Why_is_it_important_to_understand_patterns_and_be_familiar_with_them_3F" class="headerlink" title="Why is it important to understand patterns and be familiar with them?"></a>Why is it important to understand patterns and be familiar with them?</h1><p>So, why is it important to understand patterns and be familiar with them? Design patterns have three main benefits:</p>
<ol>
<li>Patterns are proven solutions: They provide solid approaches to solving issues in software development using proven techniques that reflect the experience and insights the developers that helped define them bring to the pattern.</li>
<li>Patterns can be easily reused: A pattern usually reflects an out of the box solution that can be adapted to suit our own needs. </li>
<li>Patterns can be expressive: When we look at a pattern there’s generally a set structure and vocabulary to the solution presented that can help express rather large solutions quite elegantly.</li>
</ol>
<h1 id="Categories_Of_Design_Pattern"><a href="#Categories_Of_Design_Pattern" class="headerlink" title="Categories Of Design Pattern"></a>Categories Of Design Pattern</h1><p>Design patterns can be broken down into a number of different categories. In this section we’ll review three of these categories:</p>
<h2 id="Creation_Design_Patterns"><a href="#Creation_Design_Patterns" class="headerlink" title="Creation Design Patterns"></a>Creation Design Patterns</h2><p>The basic approach to object creation might otherwise lead to added complexity in a project whilst these patterns aim to solve this problem by <em>controlling</em> the creation process.</p>
<p>Some of the patterns that fall under this category are: <em>Constructor</em>, <em>Factory</em>, <em>Prototype</em>, <em>Singleton</em>.</p>
<h2 id="Structural_Design_Patterns"><a href="#Structural_Design_Patterns" class="headerlink" title="Structural Design Patterns"></a>Structural Design Patterns</h2><p>Typically identify simple ways to realize relationships between different objects. They help ensure that when one part of a system changes, the entire structure of the system doesn’t need to do the same.</p>
<p>Patterns that fall under this category include: <em>Decorator</em>, <em>Facade</em>, <em>Flyweight</em>.</p>
<h2 id="Behavioral_Design_Patterns"><a href="#Behavioral_Design_Patterns" class="headerlink" title="Behavioral Design Patterns"></a>Behavioral Design Patterns</h2><p>Behavioral patterns focus on improving the communication between disparate objects in a system.</p>
<p>Some behavioral patterns include: <em>Mediator</em>, <em>Observer</em>.</p>
<h2 id="Table_of_23_Design_Patterns_mentioned_by_the_GoF"><a href="#Table_of_23_Design_Patterns_mentioned_by_the_GoF" class="headerlink" title="Table of 23 Design Patterns mentioned by the GoF"></a>Table of 23 Design Patterns mentioned by the GoF</h2><p>I personally found the following table a very useful reminder of what a number of patterns has to offer - it covers the 23 Design Patterns mentioned by the GoF:</p>
<p><img src="/img.jpg" alt=""></p>
<h1 id="Creation_Design_Patterns_in_depth"><a href="#Creation_Design_Patterns_in_depth" class="headerlink" title="Creation Design Patterns in depth"></a>Creation Design Patterns in depth</h1><p>Developers commonly wonder whether there is an ideal pattern or set of patterns they should be using in their workflow. There isn’t a true single answer to this question; each script and web application we work on is likely to have its own individual needs and we need to think about where we feel a pattern can offer real value to an implementation.</p>
<h2 id="The_Constructor_Pattern"><a href="#The_Constructor_Pattern" class="headerlink" title="The Constructor Pattern"></a>The Constructor Pattern</h2><p>In classical object-oriented programming languages, a <em>constructor</em> is a special method used to initialize a newly created object once memory has been allocated for it. </p>
<p>In JavaScript, as almost everything is an object, we’re most often interested in object constructors.</p>
<h3 id="Object_Creation"><a href="#Object_Creation" class="headerlink" title="Object Creation"></a>Object Creation</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Each of the following options will create a new empty object:</span></span><br><span class="line"><span class="keyword">var</span> newObject = &#123;&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">var</span> newObject = <span class="built_in">Object</span>.create( <span class="built_in">Object</span>.prototype );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">var</span> newObject = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure>
<p>Where the <code>Object</code> constructor in the final example creates an object wrapper for a specific value, or where no value is passed, it will create an empty object and return it.</p>
<h3 id="Basic_Constructors"><a href="#Basic_Constructors" class="headerlink" title="Basic Constructors"></a>Basic Constructors</h3><p>By simply prefixing a call to a constructor function with the keyword <code>new</code>, we can tell JavaScript we would like the function to behave like a constructor and instantiate a new object with the members defined by that function.</p>
<p>Inside a <code>constructor</code>, the keyword <code>this</code> references the new object that’s being created:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"> model, year, miles </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">this</span>.model = model;</span><br><span class="line">  <span class="keyword">this</span>.year = year;</span><br><span class="line">  <span class="keyword">this</span>.miles = miles;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">this</span>.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.model + <span class="string">" has done "</span> + <span class="keyword">this</span>.miles + <span class="string">" miles"</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line"><span class="keyword">var</span> civic = <span class="keyword">new</span> Car( <span class="string">"Honda Civic"</span>, <span class="number">2009</span>, <span class="number">20000</span> );</span><br><span class="line"><span class="keyword">var</span> mondeo = <span class="keyword">new</span> Car( <span class="string">"Ford Mondeo"</span>, <span class="number">2010</span>, <span class="number">5000</span> );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// and then open our browser console to view the</span></span><br><span class="line"><span class="comment">// output of the toString() method being called on</span></span><br><span class="line"><span class="comment">// these objects</span></span><br><span class="line"><span class="built_in">console</span>.log( civic.toString() );</span><br><span class="line"><span class="built_in">console</span>.log( mondeo.toString() );</span><br></pre></td></tr></table></figure>
<h3 id="Constructors_With_Prototypes"><a href="#Constructors_With_Prototypes" class="headerlink" title="Constructors With Prototypes"></a>Constructors With Prototypes</h3><p>Functions, like almost all objects in JavaScript, contain a <code>prototype</code> object. When we call a JavaScript constructor to create an object, all the properties of the constructor’s prototype are then made available to the new object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"> model, year, miles </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">this</span>.model = model;</span><br><span class="line">  <span class="keyword">this</span>.year = year;</span><br><span class="line">  <span class="keyword">this</span>.miles = miles;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Note here that we are using Object.prototype.newMethod rather than</span></span><br><span class="line"><span class="comment">// Object.prototype so as to avoid redefining the prototype object</span></span><br><span class="line">Car.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.model + <span class="string">" has done "</span> + <span class="keyword">this</span>.miles + <span class="string">" miles"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line"><span class="keyword">var</span> civic = <span class="keyword">new</span> Car( <span class="string">"Honda Civic"</span>, <span class="number">2009</span>, <span class="number">20000</span> );</span><br><span class="line"><span class="keyword">var</span> mondeo = <span class="keyword">new</span> Car( <span class="string">"Ford Mondeo"</span>, <span class="number">2010</span>, <span class="number">5000</span> );</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log( civic.toString() );</span><br><span class="line"><span class="built_in">console</span>.log( mondeo.toString() );</span><br></pre></td></tr></table></figure>
<h3 id="Constructors_with_ES6_class"><a href="#Constructors_with_ES6_class" class="headerlink" title="Constructors with ES6 class"></a>Constructors with ES6 class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Car = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(args) &#123;</span><br><span class="line">        <span class="built_in">Object</span>.assign(<span class="keyword">this</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    toString() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;this.model&#125;</span> has done <span class="subst">$&#123;this.miles&#125;</span> miles`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> civic = <span class="keyword">new</span> Car( &#123;model: <span class="string">"Honda Civic"</span>, year: <span class="number">2009</span>, miles: <span class="number">20000</span>&#125; );</span><br><span class="line"><span class="keyword">var</span> mondeo = <span class="keyword">new</span> Car( &#123;model: <span class="string">"Honda Civic"</span>, year: <span class="number">2009</span>, miles: <span class="number">20000</span>&#125; );</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log( civic.toString() );</span><br><span class="line"><span class="built_in">console</span>.log( mondeo.toString() );</span><br></pre></td></tr></table></figure>
<h3 id="Constructors_with_ES6_class_for_Node-js"><a href="#Constructors_with_ES6_class_for_Node-js" class="headerlink" title="Constructors with ES6 class for Node.js"></a>Constructors with ES6 class for Node.js</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// in the <span class="keyword">end</span>/<span class="keyword">or</span> better <span class="keyword">on</span> the <span class="keyword">beginning</span> <span class="keyword">share</span> you <span class="keyword">constructor</span></span><br><span class="line">module.exports = Car;</span><br></pre></td></tr></table></figure>
<h3 id="Constructors_in_Angular1-x"><a href="#Constructors_in_Angular1-x" class="headerlink" title="Constructors in Angular1.x"></a>Constructors in Angular1.x</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Task.factory.js</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> app = angular.module(<span class="string">'taskManager'</span>);</span><br><span class="line"></span><br><span class="line">    app.factory(<span class="string">'Task'</span>, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> Task = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">            <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">                <span class="keyword">this</span>.name = name;</span><br><span class="line">                <span class="keyword">this</span>.completed = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            complete() &#123;</span><br><span class="line">                <span class="keyword">this</span>.name = <span class="literal">true</span>;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`compete task: <span class="subst">$&#123;this.name&#125;</span>`</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            save() &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`save task: <span class="subst">$&#123;this.name&#125;</span>`</span>); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Task.controller.js</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> app = angular.module(<span class="string">'taskManager'</span>);</span><br><span class="line"></span><br><span class="line">    app.controller(<span class="string">'taskController'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">taskController</span>(<span class="params">Task</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> ctrl = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">        ctrl.tasks = [</span><br><span class="line">            <span class="keyword">new</span> Taks(&#123;name: <span class="string">'task1'</span>&#125;),</span><br><span class="line">            <span class="keyword">new</span> Taks(&#123;name: <span class="string">'task2'</span>, completed: <span class="literal">true</span>&#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    taskController.$inject = [<span class="string">'Task'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="The_Module_Pattern"><a href="#The_Module_Pattern" class="headerlink" title="The Module Pattern"></a>The Module Pattern</h2><p>Modules are an integral piece of any robust application’s architecture and typically help in keeping the units of code for a project both cleanly separated and organized.</p>
<p>In JavaScript, there are several options for implementing modules. These include:</p>
<ul>
<li>The Module pattern</li>
<li>Object literal notation</li>
<li>AMD modules</li>
<li>CommonJS modules</li>
<li>ES6 modules</li>
</ul>
<h3 id="The_Revealing_Module_Pattern"><a href="#The_Revealing_Module_Pattern" class="headerlink" title="The Revealing Module Pattern"></a>The Revealing Module Pattern</h3><p>We would simply define all of our functions and variables in the private scope and return an anonymous object with pointers to the private functionality we wished to reveal as public:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myRevealingModule = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">var</span> privateVar = <span class="string">"Ben Cherry"</span>,</span><br><span class="line">            publicVar = <span class="string">"Hey there!"</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">privateFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log( <span class="string">"Name:"</span> + privateVar );</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">publicSetName</span>(<span class="params"> strName </span>) </span>&#123;</span><br><span class="line">            privateVar = strName;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">publicGetName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            privateFunction();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        <span class="comment">// Reveal public pointers to</span></span><br><span class="line">        <span class="comment">// private functions and properties</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            setName: publicSetName,</span><br><span class="line">            greeting: publicVar,</span><br><span class="line">            getName: publicGetName</span><br><span class="line">        &#125;;</span><br><span class="line"> </span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line">myRevealingModule.setName( <span class="string">"Paul Kinlan"</span> );</span><br></pre></td></tr></table></figure>
<h3 id="The_Module_Pattern_for_Node-js"><a href="#The_Module_Pattern_for_Node-js" class="headerlink" title="The Module Pattern for Node.js"></a>The Module Pattern for Node.js</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// just export what you need</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = myRevealingModule();</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Usage:</span></span><br><span class="line"><span class="keyword">var</span> myModule = <span class="built_in">require</span>(<span class="string">'./myRevealingModule'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//module.setName...</span></span><br></pre></td></tr></table></figure>
<h3 id="The_Module_Pattern_for_Angular1-x"><a href="#The_Module_Pattern_for_Angular1-x" class="headerlink" title="The Module Pattern for Angular1.x"></a>The Module Pattern for Angular1.x</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//taskRepo.service.js</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> = <span class="keyword">app</span>.module(taskManager);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">app</span>.servise(taskRepo);</span><br><span class="line"></span><br><span class="line">    function taskRepo(<span class="variable">$http</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">db</span> = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> get = (id) =&gt; &#123;</span><br><span class="line">            <span class="built_in">log</span>(`Getting task <span class="variable">$&#123;id&#125;</span>`);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">save</span> = (task) =&gt; &#123;</span><br><span class="line">            <span class="built_in">log</span>(`<span class="keyword">Save</span> <span class="variable">$&#123;task</span>.nae&#125; to the <span class="keyword">db</span>`);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> &#123; get, <span class="keyword">save</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    taskRepo.<span class="variable">$inject</span> = ['<span class="variable">$http</span>'];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="The_Singleton_Pattern"><a href="#The_Singleton_Pattern" class="headerlink" title="The Singleton Pattern"></a>The Singleton Pattern</h2><p>In JavaScript, Singletons serve as a shared resource namespace which isolate implementation code from the global namespace so as to provide a single point of access for functions:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySingleton = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Instance stores a reference to the Singleton</span></span><br><span class="line">  <span class="keyword">var</span> instance;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Singleton</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Private methods and variables</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">privateMethod</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">"I am private"</span> );</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> privateVariable = <span class="string">"Im also private"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> privateRandomNumber = <span class="built_in">Math</span>.random();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// Public methods and variables</span></span><br><span class="line">      publicMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">"The public can see me!"</span> );</span><br><span class="line">      &#125;,</span><br><span class="line"> </span><br><span class="line">      publicProperty: <span class="string">"I am also public"</span>,</span><br><span class="line"> </span><br><span class="line">      getRandomNumber: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> privateRandomNumber;</span><br><span class="line">      &#125;</span><br><span class="line"> </span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Get the Singleton instance if one exists</span></span><br><span class="line">    <span class="comment">// or create one if it doesn't</span></span><br><span class="line">    getInstance: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">if</span> ( !instance ) &#123;</span><br><span class="line">        instance = init();</span><br><span class="line">      &#125;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> singleA = mySingleton.getInstance();</span><br><span class="line"><span class="keyword">var</span> singleB = mySingleton.getInstance();</span><br><span class="line"><span class="built_in">console</span>.log( singleA.getRandomNumber() === singleB.getRandomNumber() ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="The_Singleton_Pattern_for_Node-js"><a href="#The_Singleton_Pattern_for_Node-js" class="headerlink" title="The Singleton Pattern for Node.js"></a>The Singleton Pattern for Node.js</h3><p>From <em>Node.js</em> docs information about <a href="https://nodejs.org/dist/latest-v5.x/docs/api/modules.html#modules_caching" target="_blank" rel="external">caching modules</a>:</p>
<p>Modules are cached after the first time they are loaded. This means (among other things) that every call to require(‘foo’) will get exactly the same object returned, if it would resolve to the same file.</p>
<p>If you want to have a module execute code multiple times, then export a function, and call that function.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// repo.js</span></span><br><span class="line"><span class="comment">// just return a function call</span></span><br><span class="line"><span class="comment">// for singleton</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = repo();</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import a singleton</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">require</span> = repo();</span><br></pre></td></tr></table></figure>
<h3 id="The_Singleton_Pattern_for_Angular1-x"><a href="#The_Singleton_Pattern_for_Angular1-x" class="headerlink" title="The Singleton Pattern for Angular1.x"></a>The Singleton Pattern for Angular1.x</h3><p>By default all service all singleton, because they are providers, more info <a href="/2015/09/23/top-10-mistakes-when-you-develop-on-angularjs/#Service_vs_Factory_vs_Provider">here</a></p>
<h2 id="The_Factory_Pattern"><a href="#The_Factory_Pattern" class="headerlink" title="The Factory Pattern"></a>The Factory Pattern</h2><p>Factory provide a generic interface for creating objects, where we can specify the type of factory object we wish to be created.</p>
<p>Imagine that we have a UI factory where we are asked to create a type of UI component. Rather than creating this component directly using the new operator or via another creation constructor, we ask a Factory object for a new component instead. We inform the Factory what type of object is required (e.g <em>Button</em>, <em>Panel</em>) and it instantiates this, returning it to us for use:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Types.js - Constructors used behind the scenes</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// A constructor for defining new cars</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"> options </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// some defaults</span></span><br><span class="line">  <span class="keyword">this</span>.doors = options.doors || <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">this</span>.state = options.state || <span class="string">"brand new"</span>;</span><br><span class="line">  <span class="keyword">this</span>.color = options.color || <span class="string">"silver"</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// A constructor for defining new trucks</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Truck</span>(<span class="params"> options</span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">this</span>.state = options.state || <span class="string">"used"</span>;</span><br><span class="line">  <span class="keyword">this</span>.wheelSize = options.wheelSize || <span class="string">"large"</span>;</span><br><span class="line">  <span class="keyword">this</span>.color = options.color || <span class="string">"blue"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// FactoryExample.js</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Define a skeleton vehicle factory</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">VehicleFactory</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Define the prototypes and utilities for this factory</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Our default vehicleClass is Car</span></span><br><span class="line">VehicleFactory.prototype.vehicleClass = Car;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Our Factory method for creating new Vehicle instances</span></span><br><span class="line">VehicleFactory.prototype.createVehicle = <span class="function"><span class="keyword">function</span> (<span class="params"> options </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">switch</span>(options.vehicleType)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"car"</span>:</span><br><span class="line">      <span class="keyword">this</span>.vehicleClass = Car;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"truck"</span>:</span><br><span class="line">      <span class="keyword">this</span>.vehicleClass = Truck;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//defaults to VehicleFactory.prototype.vehicleClass (Car)</span></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">this</span>.vehicleClass( options );</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Create an instance of our factory that makes cars</span></span><br><span class="line"><span class="keyword">var</span> carFactory = <span class="keyword">new</span> VehicleFactory();</span><br><span class="line"><span class="keyword">var</span> car = carFactory.createVehicle( &#123;</span><br><span class="line">            vehicleType: <span class="string">"car"</span>,</span><br><span class="line">            color: <span class="string">"yellow"</span>,</span><br><span class="line">            doors: <span class="number">6</span> &#125; );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Test to confirm our car was created using the vehicleClass/prototype Car</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs: true</span></span><br><span class="line"><span class="built_in">console</span>.log( car <span class="keyword">instanceof</span> Car );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs: Car object of color "yellow", doors: 6 in a "brand new" state</span></span><br><span class="line"><span class="built_in">console</span>.log( car );</span><br></pre></td></tr></table></figure>
<h3 id="Abstract_Factories"><a href="#Abstract_Factories" class="headerlink" title="Abstract Factories"></a>Abstract Factories</h3><p>It is also useful to be aware of the Abstract Factory pattern, which aims to encapsulate a group of individual factories with a common goal. </p>
<p>It separates the details of implementation of a set of objects from their general usage:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> abstractVehicleFactory = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// Storage for our vehicle types</span></span><br><span class="line">  <span class="keyword">var</span> types = &#123;&#125;;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">      getVehicle: <span class="function"><span class="keyword">function</span> (<span class="params"> <span class="keyword">type</span>, customizations </span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> Vehicle = types[<span class="keyword">type</span>];</span><br><span class="line"> </span><br><span class="line">          <span class="keyword">return</span> (Vehicle ? <span class="keyword">new</span> Vehicle(customizations) : <span class="literal">null</span>);</span><br><span class="line">      &#125;,</span><br><span class="line"> </span><br><span class="line">      registerVehicle: <span class="function"><span class="keyword">function</span> (<span class="params"> <span class="keyword">type</span>, Vehicle </span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> proto = Vehicle.prototype;</span><br><span class="line"> </span><br><span class="line">          <span class="comment">// only register classes that fulfill the vehicle contract</span></span><br><span class="line">          <span class="keyword">if</span> ( proto.drive &amp;&amp; proto.breakDown ) &#123;</span><br><span class="line">              types[<span class="keyword">type</span>] = Vehicle;</span><br><span class="line">          &#125;</span><br><span class="line"> </span><br><span class="line">          <span class="keyword">return</span> abstractVehicleFactory;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line">abstractVehicleFactory.registerVehicle( <span class="string">"car"</span>, Car );</span><br><span class="line">abstractVehicleFactory.registerVehicle( <span class="string">"truck"</span>, Truck );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Instantiate a new car based on the abstract vehicle type</span></span><br><span class="line"><span class="keyword">var</span> car = abstractVehicleFactory.getVehicle( <span class="string">"car"</span>, &#123;</span><br><span class="line">            color: <span class="string">"lime green"</span>,</span><br><span class="line">            state: <span class="string">"like new"</span> &#125; );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Instantiate a new truck in a similar manner</span></span><br><span class="line"><span class="keyword">var</span> truck = abstractVehicleFactory.getVehicle( <span class="string">"truck"</span>, &#123;</span><br><span class="line">            wheelSize: <span class="string">"medium"</span>,</span><br><span class="line">            color: <span class="string">"neon yellow"</span> &#125; );</span><br></pre></td></tr></table></figure>
<h1 id="Structural_Design_Patterns_in_depth"><a href="#Structural_Design_Patterns_in_depth" class="headerlink" title="Structural Design Patterns in depth"></a>Structural Design Patterns in depth</h1><p>Structural design patterns are ones that focus on easing the relationship between different components of an application. They help to provide stability by ensuring that if one part of the app changes, the entire thing doesn’t need to as well.</p>
<h2 id="Mixins"><a href="#Mixins" class="headerlink" title="Mixins"></a>Mixins</h2><p>Mixins allow objects to borrow (or inherit) functionality from them with a minimal amount of complexity. </p>
<p>Imagine that we define a Mixin containing utility functions in a standard object literal as follows:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myMixins = &#123;</span><br><span class="line"> </span><br><span class="line">  moveUp: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">"move up"</span> );</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  moveDown: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">"move down"</span> );</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  stop: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">"stop! in the name of love!"</span> );</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>We can then easily extend the prototype of existing constructor functions to include this behavior using a helper such as the Underscore.js <code>_.extend()</code> method:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A skeleton carAnimator constructor</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CarAnimator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.moveLeft = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">"move left"</span> );</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// A skeleton personAnimator constructor</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PersonAnimator</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.moveRandomly = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">/*..*/</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Extend both constructors with our Mixin</span></span><br><span class="line">_.extend( CarAnimator.prototype, myMixins );</span><br><span class="line">_.extend( PersonAnimator.prototype, myMixins );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Create a new instance of carAnimator</span></span><br><span class="line"><span class="keyword">var</span> myAnimator = <span class="keyword">new</span> CarAnimator();</span><br><span class="line">myAnimator.moveLeft();</span><br><span class="line">myAnimator.moveDown();</span><br><span class="line">myAnimator.stop();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs:</span></span><br><span class="line"><span class="comment">// move left</span></span><br><span class="line"><span class="comment">// move down</span></span><br><span class="line"><span class="comment">// stop! in the name of love!</span></span><br></pre></td></tr></table></figure>
<h3 id="Mixins_with_ES6"><a href="#Mixins_with_ES6" class="headerlink" title="Mixins with ES6"></a>Mixins with ES6</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Object</span><span class="selector-class">.assign</span>( <span class="selector-tag">CarAnimator</span><span class="selector-class">.prototype</span>, <span class="selector-tag">myMixins</span> );</span><br><span class="line"><span class="selector-tag">Object</span><span class="selector-class">.assign</span>( <span class="selector-tag">PersonAnimator</span><span class="selector-class">.prototype</span>, <span class="selector-tag">myMixins</span> );</span><br></pre></td></tr></table></figure>
<h2 id="The_Decorator_Pattern"><a href="#The_Decorator_Pattern" class="headerlink" title="The Decorator Pattern"></a>The Decorator Pattern</h2><p>The Decorator pattern isn’t heavily tied to how objects are created but instead focuses on the problem of extending their functionality.</p>
<p>Adding new attributes to objects in JavaScript is a very straight-forward process so with this in mind, a very simplistic decorator may be implemented as follows:</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A vehicle constructor</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vehicle</span>(<span class="params"> vehicleType </span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// some sane defaults</span></span><br><span class="line">    <span class="keyword">this</span>.vehicleType = vehicleType || <span class="string">"car"</span>;</span><br><span class="line">    <span class="keyword">this</span>.model = <span class="string">"default"</span>;</span><br><span class="line">    <span class="keyword">this</span>.license = <span class="string">"00000-000"</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Test instance for a basic vehicle</span></span><br><span class="line"><span class="built_in">var</span> testInstance = <span class="keyword">new</span> Vehicle( <span class="string">"car"</span> );</span><br><span class="line"><span class="built_in">console</span>.log( testInstance );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs:</span></span><br><span class="line"><span class="comment">// vehicle: car, model:default, license: 00000-000</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Lets create a new instance of vehicle, to be decorated</span></span><br><span class="line"><span class="built_in">var</span> truck = <span class="keyword">new</span> Vehicle( <span class="string">"truck"</span> );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// New functionality we're decorating vehicle with</span></span><br><span class="line">truck.setModel = <span class="function"><span class="keyword">function</span>(<span class="params"> modelName </span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.model = modelName;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">truck.setColor = <span class="function"><span class="keyword">function</span>(<span class="params"> color </span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.color = <span class="built_in">color</span>;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Test the value setters and value assignment works correctly</span></span><br><span class="line">truck.setModel( <span class="string">"CAT"</span> );</span><br><span class="line">truck.setColor( <span class="string">"blue"</span> );</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log( truck );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs:</span></span><br><span class="line"><span class="comment">// vehicle:truck, model:CAT, color: blue</span></span><br></pre></td></tr></table></figure>
<p>Next example, our Decorators are overriding the <code>MacBook()</code> super-class objects <code>.cost()</code> function to return the current price of the Macbook plus the cost of the upgrade being specified.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The constructor to decorate</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MacBook</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">this</span>.cost = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">997</span>; &#125;;</span><br><span class="line">  <span class="keyword">this</span>.screenSize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">11.6</span>; &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Decorator 1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">memory</span>(<span class="params"> macbook </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> v = macbook.cost();</span><br><span class="line">  macbook.cost = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v + <span class="number">75</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Decorator 2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">engraving</span>(<span class="params"> macbook </span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> v = macbook.cost();</span><br><span class="line">  macbook.cost = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v + <span class="number">200</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Decorator 3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insurance</span>(<span class="params"> macbook </span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> v = macbook.cost();</span><br><span class="line">  macbook.cost = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> v + <span class="number">250</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> mb = <span class="keyword">new</span> MacBook();</span><br><span class="line">memory( mb );</span><br><span class="line">engraving( mb );</span><br><span class="line">insurance( mb );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs: 1522</span></span><br><span class="line"><span class="built_in">console</span>.log( mb.cost() );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs: 11.6</span></span><br><span class="line"><span class="built_in">console</span>.log( mb.screenSize() );</span><br></pre></td></tr></table></figure>
<h3 id="The_Decorator_Pattern_in_Angular1-x"><a href="#The_Decorator_Pattern_in_Angular1-x" class="headerlink" title="The Decorator Pattern in Angular1.x"></a>The Decorator Pattern in Angular1.x</h3><p>More information about <code>decorator</code> method in <a href="https://docs.angularjs.org/api/auto/service/$provide#decorator" target="_blank" rel="external">off documentation</a> or <a href="http://www.bennadel.com/blog/2870-using-module-decorator-in-angularjs-1-4.htm" target="_blank" rel="external">here</a></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">angular.module( <span class="string">"Demo"</span>, [] );</span><br><span class="line">angular.module( <span class="string">"Demo"</span> ).run(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">runBlock</span><span class="params">( greeting )</span> </span>&#123;</span><br><span class="line">        console.log( greeting( <span class="string">"Joanna"</span> ) );</span><br><span class="line">    &#125;</span><br><span class="line">);  </span><br><span class="line"></span><br><span class="line">angular.module( <span class="string">"Demo"</span> ).factory(</span><br><span class="line">    <span class="string">"greeting"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">greetingFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>( greeting );</span><br><span class="line">        <span class="comment">// I return a greeting for the given name.</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">greeting</span><span class="params">( name )</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span>( <span class="string">"Hello "</span> + name + <span class="string">"."</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">angular.module( <span class="string">"Demo"</span> ).decorator(</span><br><span class="line">    <span class="string">"greeting"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">greetingDecorator</span><span class="params">( $delegate )</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Return the decorated service.</span></span><br><span class="line">        <span class="keyword">return</span>( decoratedGreeting );</span><br><span class="line">        <span class="comment">// I append a new message to the existing greeting.</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">decoratedGreeting</span><span class="params">( name )</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span>( $delegate( name ) + <span class="string">" How are you doing?"</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Sub-classing"><a href="#Sub-classing" class="headerlink" title="Sub-classing"></a>Sub-classing</h2><p>Sub-classing is a term that refers to inheriting properties for a new object from a base or superclass object. In traditional object-oriented programming, a class <code>B</code> is able to extend another class <code>A</code>. Here we consider <code>A</code> a superclass and <code>B</code> a subclass of <code>A</code>. As such, all instances of <code>B</code> inherit the methods from <code>A</code>. <code>B</code> is however still able to define its own methods, including those that override methods originally defined by <code>A</code>.</p>
<p>We first need a base object:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span>(<span class="params"> firstName, lastName </span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">  <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">  <span class="keyword">this</span>.gender = <span class="string">"male"</span>;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Next, we’ll want to specify a new class (object) that’s a subclass of the existing Person object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a new instance of Person can then easily be created as follows:</span></span><br><span class="line"><span class="keyword">var</span> clark = <span class="keyword">new</span> Person( <span class="string">"Clark"</span>, <span class="string">"Kent"</span> );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Define a subclass constructor for for "Superhero":</span></span><br><span class="line"><span class="keyword">var</span> Superhero = <span class="function"><span class="keyword">function</span>(<span class="params"> firstName, lastName, powers </span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Invoke the superclass constructor on the new object</span></span><br><span class="line">    <span class="comment">// then use .call() to invoke the constructor as a method of</span></span><br><span class="line">    <span class="comment">// the object to be initialized.</span></span><br><span class="line"> </span><br><span class="line">    Person.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Finally, store their powers, a new array of traits not found in a normal "Person"</span></span><br><span class="line">    <span class="keyword">this</span>.powers = powers;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">Superhero.prototype = <span class="built_in">Object</span>.create( Person.prototype );</span><br><span class="line"><span class="keyword">var</span> superman = <span class="keyword">new</span> Superhero( <span class="string">"Clark"</span>, <span class="string">"Kent"</span>, [<span class="string">"flight"</span>,<span class="string">"heat-vision"</span>] );</span><br><span class="line"><span class="built_in">console</span>.log( superman );</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Outputs Person attributes as well as powers</span></span><br></pre></td></tr></table></figure>
<h2 id="The_Facade_Pattern"><a href="#The_Facade_Pattern" class="headerlink" title="The Facade Pattern"></a>The Facade Pattern</h2><p>This pattern provides a convenient higher-level interface to a larger body of code, hiding its true underlying complexity.</p>
<p>Whenever we use jQuery’s <code>$(el).css()</code> or <code>$(el).animate()</code> methods, we’re actually using a Facade - the simpler public interface that avoids us having to manually call the many internal methods in jQuery core required to get some behavior working.</p>
<p>In a similar manner, we’re all familiar with jQuery’s $(document).ready(..). Internally, this is actually being powered by a method called bindReady(), which is doing this:</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">bindReady</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">if</span> ( <span class="built_in">document</span>.addEventListener ) &#123;</span><br><span class="line">      <span class="comment">// Use the handy event callback</span></span><br><span class="line">      <span class="built_in">document</span>.addEventListener( <span class="string">"DOMContentLoaded"</span>, DOMContentLoaded, <span class="literal">false</span> );</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// A fallback to window.onload, that will always work</span></span><br><span class="line">      <span class="built_in">window</span>.addEventListener( <span class="string">"load"</span>, jQuery.ready, <span class="literal">false</span> );</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// If IE event model is used</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="built_in">document</span>.attachEvent ) &#123;</span><br><span class="line"> </span><br><span class="line">      <span class="built_in">document</span>.attachEvent( <span class="string">"onreadystatechange"</span>, DOMContentLoaded );</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// A fallback to window.onload, that will always work</span></span><br><span class="line">      <span class="built_in">window</span>.attachEvent( <span class="string">"onload"</span>, jQuery.ready );</span><br><span class="line">               ...</span><br></pre></td></tr></table></figure>
<h2 id="Flyweight"><a href="#Flyweight" class="headerlink" title="Flyweight"></a>Flyweight</h2><p>The Flyweight pattern is a classical structural solution for optimizing code that is repetitive, slow and inefficiently shares data. It aims to minimize the use of memory in an application by sharing as much data as possible with related objects</p>
<p>There are two ways in which the Flyweight pattern can be applied. The first is at the <em>data-layer</em>, where we deal with the concept of sharing data between large quantities of similar objects stored in memory.</p>
<p>The second is at the <em>DOM-layer</em> where the Flyweight can be used as a central event-manager to avoid attaching event handlers to every child element in a parent container we wish to have some similar behavior.</p>
<h3 id="Flyweights_and_sharing_data"><a href="#Flyweights_and_sharing_data" class="headerlink" title="Flyweights and sharing data"></a>Flyweights and sharing data</h3><p>Each book would thus be represented as follows, prior to any optimization using the Flyweight pattern:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Book = function( id, title, author, genre, pageCount,publisherID, ISBN, checkoutDate, checkoutMember, dueReturnDate,availability )&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">this</span>.id = id;</span><br><span class="line">   <span class="keyword">this</span>.title = title;</span><br><span class="line">   <span class="keyword">this</span>.author = author;</span><br><span class="line">   <span class="keyword">this</span>.genre = genre;</span><br><span class="line">   <span class="keyword">this</span>.pageCount = pageCount;</span><br><span class="line">   <span class="keyword">this</span>.publisherID = publisherID;</span><br><span class="line">   <span class="keyword">this</span>.ISBN = ISBN;</span><br><span class="line">   <span class="keyword">this</span>.checkoutDate = checkoutDate;</span><br><span class="line">   <span class="keyword">this</span>.checkoutMember = checkoutMember;</span><br><span class="line">   <span class="keyword">this</span>.dueReturnDate = dueReturnDate;</span><br><span class="line">   <span class="keyword">this</span>.availability = availability;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">Book.prototype = &#123;</span><br><span class="line"> </span><br><span class="line">  getTitle: function () &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.title;</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  getAuthor: function () &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.author;</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  getISBN: function ()&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.ISBN;</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// For brevity, other getters are not shown</span></span><br><span class="line">  updateCheckoutStatus: function( bookID, newStatus, checkoutDate, checkoutMember, newReturnDate )&#123;</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">this</span>.id = bookID;</span><br><span class="line">     <span class="keyword">this</span>.availability = newStatus;</span><br><span class="line">     <span class="keyword">this</span>.checkoutDate = checkoutDate;</span><br><span class="line">     <span class="keyword">this</span>.checkoutMember = checkoutMember;</span><br><span class="line">     <span class="keyword">this</span>.dueReturnDate = newReturnDate;</span><br><span class="line"> </span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  extendCheckoutPeriod: function( bookID, newReturnDate )&#123;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">this</span>.id = bookID;</span><br><span class="line">      <span class="keyword">this</span>.dueReturnDate = newReturnDate;</span><br><span class="line"> </span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  isPastDue: function(bookID)&#123;</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">var</span> currentDate = new Date();</span><br><span class="line">     <span class="keyword">return</span> currentDate.getTime() &gt; Date.parse( <span class="keyword">this</span>.dueReturnDate );</span><br><span class="line"> </span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Using thousands of book objects may overwhelm the available memory, but we can optimize our system using the Flyweight pattern to improve this.</p>
<p>We can now separate our data into intrinsic and extrinsic states as follows: data relevant to the book object (<code>title</code>, <code>author</code> etc) is <em>intrinsic</em> whilst the checkout data (<code>checkoutMember</code>, dueReturnDate etc) is <em>considered</em> extrinsic. Effectively this means that only one Book object is required for each combination of book properties. it’s still a considerable quantity of objects, but significantly fewer than we had previously.</p>
<p>The following single instance of our book meta-data combinations will be shared among all of the copies of a book with a particular title. As we can see, the extrinsic states have been removed:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Flyweight optimized version</span></span><br><span class="line"><span class="keyword">var</span> Book = function ( title, author, genre, pageCount, publisherID, ISBN ) &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">this</span>.title = title;</span><br><span class="line">    <span class="keyword">this</span>.author = author;</span><br><span class="line">    <span class="keyword">this</span>.genre = genre;</span><br><span class="line">    <span class="keyword">this</span>.pageCount = pageCount;</span><br><span class="line">    <span class="keyword">this</span>.publisherID = publisherID;</span><br><span class="line">    <span class="keyword">this</span>.ISBN = ISBN;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Let’s now define a very <em>basic factory</em>. This makes sure that we only create a single copy of each unique intrinsic piece of data:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Book Factory singleton</span></span><br><span class="line"><span class="keyword">var</span> BookFactory = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> existingBooks = &#123;&#125;, existingBook;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    createBook: <span class="function"><span class="keyword">function</span> (<span class="params"> title, author, genre, pageCount, publisherID, ISBN </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// Find out if a particular book meta-data combination has been created before</span></span><br><span class="line">      <span class="comment">// !! or (bang bang) forces a boolean to be returned</span></span><br><span class="line">      existingBook = existingBooks[ISBN];</span><br><span class="line">      <span class="keyword">if</span> ( !!existingBook ) &#123;</span><br><span class="line">        <span class="keyword">return</span> existingBook;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// if not, let's create a new instance of the book and store it</span></span><br><span class="line">        <span class="keyword">var</span> book = <span class="keyword">new</span> Book( title, author, genre, pageCount, publisherID, ISBN );</span><br><span class="line">        existingBooks[ISBN] = book;</span><br><span class="line">        <span class="keyword">return</span> book;</span><br><span class="line"> </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>Next, we need to store the states that were removed from the Book objects somewhere - luckily a manager (which we’ll be defining as a Singleton) can be used to encapsulate them:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BookRecordManager singleton</span></span><br><span class="line"><span class="keyword">var</span> BookRecordManager = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> bookRecordDatabase = &#123;&#125;;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">// add a new book into the library system</span></span><br><span class="line">    addBookRecord: <span class="function"><span class="keyword">function</span> (<span class="params"> id, title, author, genre, pageCount, publisherID, ISBN, checkoutDate, checkoutMember, dueReturnDate, availability </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">var</span> book = bookFactory.createBook( title, author, genre, pageCount, publisherID, ISBN );</span><br><span class="line"> </span><br><span class="line">      bookRecordDatabase[id] = &#123;</span><br><span class="line">        checkoutMember: checkoutMember,</span><br><span class="line">        checkoutDate: checkoutDate,</span><br><span class="line">        dueReturnDate: dueReturnDate,</span><br><span class="line">        availability: availability,</span><br><span class="line">        book: book</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    updateCheckoutStatus: <span class="function"><span class="keyword">function</span> (<span class="params"> bookID, newStatus, checkoutDate, checkoutMember, newReturnDate </span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">var</span> record = bookRecordDatabase[bookID];</span><br><span class="line">      record.availability = newStatus;</span><br><span class="line">      record.checkoutDate = checkoutDate;</span><br><span class="line">      record.checkoutMember = checkoutMember;</span><br><span class="line">      record.dueReturnDate = newReturnDate;</span><br><span class="line">    &#125;,</span><br><span class="line"> </span><br><span class="line">    extendCheckoutPeriod: <span class="function"><span class="keyword">function</span> (<span class="params"> bookID, newReturnDate </span>) </span>&#123;</span><br><span class="line">      bookRecordDatabase[bookID].dueReturnDate = newReturnDate;</span><br><span class="line">    &#125;,</span><br><span class="line"> </span><br><span class="line">    isPastDue: <span class="function"><span class="keyword">function</span> (<span class="params"> bookID </span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> currentDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">      <span class="keyword">return</span> currentDate.getTime() &gt; <span class="built_in">Date</span>.parse( bookRecordDatabase[bookID].dueReturnDate );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h3 id="Flyweights_and_the_DOM"><a href="#Flyweights_and_the_DOM" class="headerlink" title="Flyweights and the DOM"></a>Flyweights and the DOM</h3><p>Flyweights can be used to tweak the event bubbling process further, as we will see shortly.</p>
<h4 id="Example_1_3A_Centralized_event_handling"><a href="#Example_1_3A_Centralized_event_handling" class="headerlink" title="Example 1: Centralized event handling"></a>Example 1: Centralized event handling</h4><p>A stateManager name-space is used here to encapsulate our flyweight logic whilst jQuery is used to bind the initial click to a container div.</p>
<p>The child element in the container is clicked, we make use of a target check which provides a reference to the element that was clicked, regardless of its parent. We then use this information to handle the click event without actually needing to bind the event to specific children when our page loads.</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">id</span>=<span class="string">"container"</span>&gt;</span><br><span class="line">   &lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"toggle"</span> href=<span class="string">"#"</span>&gt;More Info (Address)</span><br><span class="line">       &lt;span <span class="built_in">class</span>=<span class="string">"info"</span>&gt;</span><br><span class="line">           This <span class="keyword">is</span> more information</span><br><span class="line">       &lt;/span&gt;&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">   &lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"toggle"</span> href=<span class="string">"#"</span>&gt;Even More Info (Map)</span><br><span class="line">       &lt;span <span class="built_in">class</span>=<span class="string">"info"</span>&gt;</span><br><span class="line">          &lt;iframe src=<span class="string">"http://www.map-generator.net/extmap.php?name=London&amp;amp;address=london%2C%20england&amp;amp;width=500...gt;"</span>&lt;/iframe&gt;</span><br><span class="line">       &lt;/span&gt;</span><br><span class="line">   &lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stateManager = &#123;</span><br><span class="line">  fly: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line"> </span><br><span class="line">    $( <span class="string">"#container"</span> )</span><br><span class="line">          .unbind()</span><br><span class="line">          .on( <span class="string">"click"</span>, <span class="string">"div.toggle"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"> e </span>) </span>&#123;</span><br><span class="line">            self.handleClick( e.target );</span><br><span class="line">          &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  handleClick: <span class="function"><span class="keyword">function</span> (<span class="params"> elem </span>) </span>&#123;</span><br><span class="line">    elem.find( <span class="string">"span"</span> ).toggle( <span class="string">"slow"</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Example_2_3A_For_performance_optimization"><a href="#Example_2_3A_For_performance_optimization" class="headerlink" title="Example 2: For performance optimization"></a>Example 2: For performance optimization</h4><p>Unfortunately, many of us have become used to the idea of wrapping this in $() or jQuery(), which means that a new instance of jQuery is unnecessarily constructed every time, rather than simply doing this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).on( <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log( <span class="string">"You clicked: "</span> + $( <span class="keyword">this</span> ).attr( <span class="string">"id"</span> ));</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// we should avoid using the DOM element to create a</span></span><br><span class="line"><span class="comment">// jQuery object (with the overhead that comes with it)</span></span><br><span class="line"><span class="comment">// and just use the DOM element itself like this:</span></span><br><span class="line"> </span><br><span class="line">$( <span class="string">"div"</span> ).on( <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log( <span class="string">"You clicked:"</span>  + <span class="keyword">this</span>.id );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="Behavior_Design_Patterns_in_depth"><a href="#Behavior_Design_Patterns_in_depth" class="headerlink" title="Behavior Design Patterns in depth"></a>Behavior Design Patterns in depth</h1><h2 id="The_observer"><a href="#The_observer" class="headerlink" title="The observer"></a>The observer</h2><p>The Observer is a design pattern where an object (known as a subject) maintains a list of objects depending on it (observers), automatically notifying them of any changes to state.</p>
<p>We can now expand on what we’ve learned to implement the Observer pattern with the following components:</p>
<ul>
<li>Subject: maintains a list of observers, facilitates adding or removing observers</li>
<li>Observer: provides a update interface for objects that need to be notified of a Subject’s changes of state</li>
<li>ConcreteSubject: broadcasts notifications to observers on changes of state, stores the state of ConcreteObservers</li>
<li>ConcreteObserver: stores a reference to the ConcreteSubject, implements an update interface for the Observer to ensure state is consistent with the Subject’s</li>
<li>First, let’s model the list of dependent Observers a subject may have:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ObserverList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.observerList = [];</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">ObserverList.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params"> obj </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.observerList.push( obj );</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">ObserverList.prototype.count = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.observerList.length;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">ObserverList.prototype.get = <span class="function"><span class="keyword">function</span>(<span class="params"> index </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>( index &gt; <span class="number">-1</span> &amp;&amp; index &lt; <span class="keyword">this</span>.observerList.length )&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.observerList[ index ];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">ObserverList.prototype.indexOf = <span class="function"><span class="keyword">function</span>(<span class="params"> obj, startIndex </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i = startIndex;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">while</span>( i &lt; <span class="keyword">this</span>.observerList.length )&#123;</span><br><span class="line">    <span class="keyword">if</span>( <span class="keyword">this</span>.observerList[i] === obj )&#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    i++;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">ObserverList.prototype.removeAt = <span class="function"><span class="keyword">function</span>(<span class="params"> index </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.observerList.splice( index, <span class="number">1</span> );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>The Subject and the ability to add, remove or notify observers on the observer list:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Subject</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.observers = <span class="keyword">new</span> ObserverList();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Subject.prototype.addObserver = <span class="function"><span class="keyword">function</span>(<span class="params"> observer </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.observers.add( observer );</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">Subject.prototype.removeObserver = <span class="function"><span class="keyword">function</span>(<span class="params"> observer </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.observers.removeAt( <span class="keyword">this</span>.observers.indexOf( observer, <span class="number">0</span> ) );</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">Subject.prototype.notify = <span class="function"><span class="keyword">function</span>(<span class="params"> context </span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> observerCount = <span class="keyword">this</span>.observers.count();</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; observerCount; i++)&#123;</span><br><span class="line">    <span class="keyword">this</span>.observers.get(i).update( context );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Full example <a href="http://plnkr.co/edit/w0wkN2BPIWK1PF3Nt8ZD" target="_blank" rel="external">here</a></p>
<h2 id="Differences_Between_The_Observer_And_Publish/Subscribe_Pattern"><a href="#Differences_Between_The_Observer_And_Publish/Subscribe_Pattern" class="headerlink" title="Differences Between The Observer And Publish/Subscribe Pattern"></a>Differences Between The Observer And Publish/Subscribe Pattern</h2><p>Whilst the <em>Observer</em> pattern is useful to be aware of, quite often in the JavaScript world, we’ll find it commonly implemented using a variation known as the <em>Publish/Subscribe</em> pattern.</p>
<p>The Publish/Subscribe pattern however uses a topic/event channel which sits between the objects wishing to receive notifications (subscribers) and the object firing the event (the publisher). </p>
<p>This event system allows code to define application specific events which can pass custom arguments containing values needed by the subscriber. The idea here is to avoid dependencies between the subscriber and publisher.</p>
<p>Here is an example of how one might use the Publish/Subscribe if provided with a functional implementation powering <code>publish()</code>,<code>subscribe()</code> and <code>unsubscribe()</code> behind the scenes:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> eventBus = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> topics = <span class="built_in">Object</span>.create(&#123;&#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    subscribe: <span class="function"><span class="keyword">function</span>(<span class="params">topic, listener</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// Create the topic's object if not yet created</span></span><br><span class="line">      <span class="keyword">if</span>(!topics[topic]) topics[topic] = [];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Add the listener to queue</span></span><br><span class="line">      <span class="keyword">var</span> index = topics[topic].push(listener) <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Provide handle back for removal of topic</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        unsubscribe: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">delete</span> topics[topic][index];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    publish: <span class="function"><span class="keyword">function</span>(<span class="params">topic, info</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// If the topic doesn't exist, or there's no listeners in queue, just leave</span></span><br><span class="line">      <span class="keyword">if</span>(!topics[topic]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Cycle through topics queue, fire!</span></span><br><span class="line">      topics[topic].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">            item(info != <span class="literal">undefined</span> ? info : &#123;&#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>Subscribe in order to be notified for events:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> subscription = events.subscribe(<span class="string">'/page/load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Do something now that the event has occurred</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...sometime later where I no longer want subscription...</span></span><br><span class="line">subscription.unsubscribe();</span><br></pre></td></tr></table></figure></p>
<p>Publishing: </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">events.publish('/page/<span class="keyword">load</span><span class="string">', &#123;</span><br><span class="line">    url: '</span>/<span class="keyword">some</span>/<span class="keyword">url</span>/<span class="keyword">path</span><span class="string">' // any arguments</span><br><span class="line">&#125;);</span></span><br></pre></td></tr></table></figure>

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Patters/">Patters</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/02/04/First-look-at-React-js/"  data-tooltip="First reaction about React.js">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/02/02/cycle-js-fundamentals/" data-tooltip="сусle.js fundamentals">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 Orest Prystayko. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/02/04/First-look-at-React-js/"  data-tooltip="First reaction about React.js">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/02/02/cycle-js-fundamentals/" data-tooltip="сусle.js fundamentals">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/35948c039f71fe48d765768c07bfee67?s=110"/>
        
            <h4 id="about-card-name">Orest Prystayko</h4>
        
            <h5 id="about-card-bio"><p>I try to learn something new every day. It may relate to personal finances, physical health, algorithms, computer programming. And the learning process might take place for a few minutes or from sunrise to sunset. I bealive that every time when I achieve new knowledge, I tipically observe how increase my quality of live.</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Front End Developer @ Eleks</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Ukraine, Lviv
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover-v2.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script-5tb3wzzqgfyhmijvbhbaorsao4xudh8wledlmpvmhtlkuxwc8qdk5klneukz.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://qetr1ck-op.github.io/2016/02/03/Practical-design-patterns-in-JavaScript/';
                 
                    this.page.identifier = '2016/02/03/Practical-design-patterns-in-JavaScript/';
                                  
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'qetr1ck-op';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    


    <script type="text/javascript">
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
            e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','yjp7PCgxKmcfHTQ63jfa','2.0.0');
    </script>


</html>
